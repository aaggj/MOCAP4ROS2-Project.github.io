<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; ROS2 Planning System 2 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/mocap4ros2_48x48.png"/>
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Build and Install" href="../build_instructions/index.html" />
    <link rel="prev" title="MOCAP4ROS2" href="../index.html" />

<link rel="stylesheet" href="../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: orange" >
            <a href="../index.html" class="icon icon-home"> ROS2 Planning System 2
            <img src="../_static/mocap4ros2_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_instructions/index.html">Build and Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../build_instructions/index.html#optitrack-system">Optitrack System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/index.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/index.html#simulation">Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build_instructions/index.html#running-simulation-example">Running simulation example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../build_instructions/index.html#vicon-system">Vicon System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">MOCAP4ROS2 design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About and Contact</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#id1">About</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#contact">Contact</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: orange" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ROS2 Planning System 2</a>
      </nav>

      <div class="wy-nav-content">

<span style="float: right;" >
    <a class="github-button" href="https://github.com/MOCAP4ROS2-Project/mocap4ros2.github.io" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" aria-label="Edit MOCAP4ROS2-Project/mocap4ros2.github.io on GitHub" ">Edit</a>
</span>


        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Getting Started</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<span id="id1"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline"></a></h1>
<p>For now, the MOCAP4ROS2 packages are not available as deb packages in any ROS2 distribution, so you must install them from source. The main branches of each repository usually point to the latest distribution available on ROS2.</p>
<p>MOCAP4ROS2 supports motion capture systems, most of which are commercial. Normally, you should now go to one of the sections that explains how to install and configure the particular system you have, but for this “getting started” section, we’re going to use the driver for gazebo.</p>
<ol class="arabic simple">
<li><p>Clone in your workspace the following repositories:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mocap4ros2_ws$ cd src</span>
<span class="go">mocap4ros2_ws/src$ git clone https://github.com/MOCAP4ROS2-Project/mocap4ros2_gazebo.git</span>
<span class="go">mocap4ros2_ws/src$ git clone https://github.com/MOCAP4ROS2-Project/mocap.git</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Install dependencies</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mocap4ros2_ws$ rosdep install --from-paths src --ignore-src -r -y</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Build workspace</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mocap4ros2_ws$ colcon build --symlink-install</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Run the simulator with “a marker”. Remember to use the “2D Pose Estimate” tool in Rviz2 (in toolbar) to set the robot position (it is around (X: -2, Y: -0.5, Yaw: 0.0) ).</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/getting_started_4a.png"><img alt="../_images/getting_started_4a.png" class="align-left" src="../_images/getting_started_4a.png" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../_images/getting_started_4b.png"><img alt="../_images/getting_started_4b.png" class="align-right" src="../_images/getting_started_4b.png" style="width: 400px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">mocap4ros2_ws$</span> <span class="pre">ros2</span> <span class="pre">launch</span> <span class="pre">gazebo_mocap_plugin</span> <span class="pre">tb3_simulation_launch.py</span>
<span class="pre">`</span></code></p>
<p>run <cite>gzclient</cite> if you want to see the simulation.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mocap4ros2_ws$ gzclient</span>
</pre></div>
</div>
<p><strong>NOTE:</strong> Remember to correctly set the <code class="docutils literal notranslate"><span class="pre">GAZEBO_MODEL_PATH</span></code> in order to found the gazebo models. For example: <code class="docutils literal notranslate"><span class="pre">/opt/ros/humble/share/turtlebot3_gazebo/models:/home/&lt;your</span> <span class="pre">user&gt;/mocap4ros2_ws/install/gazebo_mocap_plugin/share/gazebo_mocap_plugin/models</span></code></p>
<ol class="arabic simple" start="5">
<li><p>Run RQT Gui and load the MocapControl plugin under “Plugins -&gt; MOCAP4ROS2 -&gt; Mocap Control”</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mocap4ros2_ws$ ros2 run rqt_gui rqt_gui --force-discover</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/getting_started_5.png"><img alt="../_images/getting_started_5.png" class="align-center" src="../_images/getting_started_5.png" style="width: 400px;" /></a>
<ol class="arabic simple" start="6">
<li><p>Press the button “Start” in MocapControl and check that markers and rigid bodies being published:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 topic echo /markers</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 topic echo /rigid_bodies</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>Now, lets use an app that takes the rigid body position and orientation, and publishes a TF representing the ground truth of the robot:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ros2 run mocap_robot_gt gt_program --ros-args -p root_frame:=map</span>
</pre></div>
</div>
<p>Check in Rviz how a new frame, <cite>base_footprint_gt</cite> exists and is the real robot position. Move the robot and see how this TF track the robot position.</p>
<a class="reference internal image-reference" href="../_images/getting_started_7.png"><img alt="../_images/getting_started_7.png" class="align-right" src="../_images/getting_started_7.png" style="width: 500px;" /></a>
<ol class="arabic simple" start="8">
<li><p>Press the button “Stop” in MocapControl to stop the gazebo mocap.</p></li>
</ol>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020.</p>
  </div>

   

</footer>
        </div>


      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<script type="text/javascript" src="../_static/tcs_theme.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>



</body>
</html>